{"version":3,"sources":["core/ShowImage.js","auth/index.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/AddPhoto.js","user/Profile.js","user/apiUser.js","Routes.js","index.js","config.js"],"names":["ShowImage","item","url","className","src","API","_id","alt","name","style","maxHeight","maxWidth","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","to","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","user","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","aunthenticate","getImages","sortBy","limit","Card","React","lazy","Home","token","imagesByLimit","setImagesByLimit","setError","isOpen","setIsOpen","isFetching","setIsFetching","page","setPage","useEffect","fetchData","addEventListener","handleScroll","Math","ceil","innerHeight","document","documentElement","scrollTop","offsetHeight","loadImagesByLimit","fetchMoreListItems","map","fallback","width","image","PrivateRoute","Component","component","rest","render","props","state","from","Dashboard","AddPhoto","photo","tags","uploadedBy","createdImage","formData","FormData","files","set","userId","Authorization","addPic","onSubmit","accept","Profile","match","init","read","params","e","update","alert","auth","updateUser","profileUpdate","redirectUser","Routes","exact","ReactDOM","getElementById","process"],"mappings":"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","file":"static/js/main.bf1dccd2.chunk.js","sourcesContent":["import React, { Suspense } from 'react'\r\nimport {API} from '../config'\r\n\r\nconst ShowImage=({item,url})=>(\r\n    <div className=\"image-img\">\r\n       \r\n        <img src={`${API}/${url}/photo/${item._id}`} \r\n        \r\n        alt={item.name}\r\n        className=\"mb-3\"\r\n        style={{maxHeight:\"100%\",maxWidth:\"100%\"}}\r\n        />\r\n       \r\n    </div>\r\n)\r\n\r\nexport default ShowImage","import {API} from \"../config\"\r\n\r\nexport const signup=user=>{\r\n    \r\n    return fetch(`${API}/signup`,{\r\n        method:\"POST\",\r\n        headers:{\r\n             Accept:'application/json',\r\n             \"Content-Type\":'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\nexport const signin=user=>{\r\n    \r\n    return fetch(`${API}/signin`,{\r\n        method:\"POST\",\r\n        headers:{\r\n             Accept:'application/json',\r\n             \"Content-Type\":'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const aunthenticate=(data,next)=>{\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.setItem('jwt',JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const signout=(next)=>{\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.removeItem('jwt')\r\n        next()\r\n        return fetch(`${API}/signout`,{\r\n            method:'GET',\r\n        })\r\n        .then(response=>{\r\n            console.log('signout',response)\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n}\r\n\r\nexport const isAuthenticated=()=>{\r\n    if(typeof window =='undefined'){\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    }else{\r\n        return false\r\n    }\r\n\r\n}\r\n\r\nexport const addPic=(userId,token,image)=>{\r\n    return fetch(`${API}/image/upload/${userId}`,{\r\n        method:'POST',\r\n        headers:{\r\n            Accept:'application/json',\r\n            Authorization:`Bearer ${token}`\r\n        },\r\n        body:image\r\n    })\r\n    .then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}","import React,{Fragment} from 'react'\r\nimport {Link,withRouter} from 'react-router-dom'\r\nimport {signout,isAuthenticated} from '../auth/index'\r\n\r\nconst isActive=(history,path)=>{ //history is where we have been,the one to highlight and path is the actaul path we will provide\r\n    if(history.location.pathname === path){\r\n        return {color:'#ff9900'}\r\n    }\r\n    else{\r\n        return {color : '#ffffff'}\r\n    }\r\n}              \r\n\r\n\r\n\r\nconst Menu=({history})=>( //ul-unordered list\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\"> \r\n            <li className=\"nav-item\">\r\n                <Link \r\n                className=\"nav-link\" \r\n                style={isActive(history,'/')} \r\n                to=\"/\">\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link \r\n                className=\"nav-link\" \r\n                style={isActive(history,'/dashboard')} \r\n                to=\"/user/dashboard\">\r\n                    Dashboard\r\n                </Link>\r\n            </li>\r\n\r\n            \r\n\r\n            {!isAuthenticated() && (\r\n            <Fragment>\r\n                 <li className=\"nav-item\">\r\n              <Link \r\n              className=\"nav-link\" \r\n              style={isActive(history,'/signin')} \r\n              to=\"/signin\">\r\n                  Signin\r\n              </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n              <Link \r\n              className=\"nav-link\" \r\n              style={isActive(history,'/signup')} \r\n              to=\"/signup\">\r\n                  Signup\r\n              </Link>\r\n          </li>\r\n            </Fragment>\r\n          )}\r\n          {isAuthenticated() && (\r\n              <li className=\"nav-item\">\r\n              <span \r\n              className=\"nav-link\" \r\n              style={{cursor:'pointer',color:'#ffffff'}} \r\n              onClick={()=>signout(()=>{\r\n                  history.push('/')\r\n              })}>\r\n                  Signout\r\n              </span>\r\n          </li>\r\n          )}\r\n      </ul>\r\n  </div> \r\n)\r\n\r\nexport default withRouter(Menu);\r\n","import React from 'react'\r\nimport Menu from './Menu'\r\nimport \"../styles.css\"\r\n\r\nconst Layout=({\r\n    title=\"Title\",\r\n    description=\"Description\",\r\n    className,\r\n    children\r\n})=>(\r\n    <div>\r\n        <Menu />\r\n        <div className=\"jumbotron\">\r\n            <h2>{title}</h2>\r\n               <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}> {children} </div>\r\n    </div>\r\n)\r\n\r\nexport default Layout","import React,{useState} from 'react'//for state object as ith grabs value from form\r\nimport {Link} from 'react-router-dom'\r\nimport Layout from '../core/Layout'\r\nimport {signup} from '../auth/index'\r\nconst Signup=()=> {\r\n    const [values,setValues]=useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        error:\"\",\r\n        success:false\r\n    })\r\n\r\n    const{name,email,password,error,success}=values\r\n\r\nconst handleChange=name=>event=>{//one fuction returning another function\r\nsetValues({...values,error:false,[name]:event.target.value})\r\n}\r\n\r\nconst clickSubmit=event=>{\r\n    event.preventDefault()//this fuction restricts page from reloading to grab values\r\n    setValues({...values,error:false})\r\n    signup({name,email,password}).then(data=>{\r\n        if(data.error){\r\n            setValues({...values,error:data.error,success:false})\r\n        }else{\r\n            setValues({\r\n                ...values,\r\n                name:'',\r\n                email:'',\r\n                password:'',\r\n                error:'',\r\n                success:true\r\n            })\r\n        }\r\n               \r\n    })\r\n}\r\n    const signUpForm=()=>(\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input \r\n                onChange={handleChange('name')} \r\n                type=\"text\" \r\n                className=\"form-control\" \r\n                values={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input \r\n                onChange={handleChange('email')} \r\n                type=\"email\" \r\n                className=\"form-control\"\r\n                values={email}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input \r\n                onChange={handleChange('password')} \r\n                type=\"password\" \r\n                className=\"form-control\"\r\n                values={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n    )\r\n\r\nconst showError=()=>(\r\n    <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n        {error}\r\n    </div>\r\n)\r\nconst showSucess=()=>(\r\n    <div className=\"alert alert-info\" style={{display:success?'':'none'}}>\r\n        New account is created.Please <Link to='/signin'>Signin!!</Link>\r\n    </div>\r\n)\r\n\r\n    return(\r\n    <Layout \r\n    title=\"Signup\" \r\n    description=\"Signup to Node React E-commerce App\"\r\n    className=\"container col-md-8 offset-md-2\"\r\n    >\r\n        {showSucess()}\r\n        {showError()}\r\n    {signUpForm()}\r\n\r\n    </Layout>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React,{useState} from 'react'//for state object as ith grabs value from form\r\nimport {Redirect} from 'react-router-dom'\r\nimport Layout from '../core/Layout'\r\nimport {signin,aunthenticate,isAuthenticated} from '../auth/index'\r\nconst Signin=()=> {\r\n    const [values,setValues]=useState({\r\n        email:\"\",\r\n        password:\"\",\r\n        error:\"\",\r\n        loading:false,\r\n        redirectToReferrer:false\r\n    })\r\n\r\n    const{email,password,error,loading,redirectToReferrer}=values\r\n    const{user}=isAuthenticated()\r\n\r\nconst handleChange=name=>event=>{//one fuction returning another function\r\nsetValues({...values,error:false,[name]:event.target.value})\r\n}\r\n\r\nconst clickSubmit=(event)=>{\r\n    event.preventDefault()//this fuction restricts page from reloading to grab values\r\n    setValues({...values,error:false,loading:true})\r\n    signin({email,password})\r\n    .then(data=>{\r\n        if(data.error){\r\n            setValues({...values,error:data.error,loading:false})\r\n        }else{\r\n            aunthenticate(data,()=>{\r\n                setValues({\r\n                    ...values,\r\n                    redirectToReferrer:true\r\n                })\r\n            })\r\n        }\r\n               \r\n    })\r\n}\r\n    const signUpForm=()=>(\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input \r\n                onChange={handleChange('email')} \r\n                type=\"email\" \r\n                className=\"form-control\"\r\n                values={email}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input \r\n                onChange={handleChange('password')} \r\n                type=\"password\" \r\n                className=\"form-control\"\r\n                values={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n    )\r\n\r\nconst showError=()=>(\r\n    <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n        {error}\r\n    </div>\r\n)\r\n\r\nconst showLoading=()=>(\r\n    loading && (\r\n        <div className=\"alert alert-info\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    )\r\n)\r\n\r\nconst redirectUser=()=>{\r\n    if(redirectToReferrer){\r\n      if(user){\r\n        return <Redirect to=\"/user/dashboard\" />\r\n      }\r\n}\r\nif(isAuthenticated()){\r\n    return <Redirect to='/' />\r\n}\r\n}\r\n\r\n    return(\r\n    <Layout \r\n    title=\"Signin\" \r\n    description=\"Signin to Node React E-commerce App\"\r\n    className=\"container col-md-8 offset-md-2\"\r\n    >\r\n        {showLoading()}\r\n        {showError()}\r\n        {signUpForm()}\r\n        {redirectUser()}\r\n\r\n    </Layout>\r\n    )\r\n}\r\n\r\nexport default Signin;","import {API} from '../config'\r\nimport Axios from 'axios';\r\n\r\nexport const getImages =( sortBy,limit)=> {\r\n    return fetch(`${API}/images?sortBy=${sortBy}&order=desc&limit=${limit}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React,{useState,useEffect,Suspense} from 'react'//for state object as ith grabs value from form\r\nimport Layout from './Layout'\r\nimport {Link} from 'react-router-dom'\r\nimport {getImages} from './apiCore'\r\nimport \"../styles.css\"\r\nimport ShowImage from './ShowImage';\r\nimport {API} from '../config'\r\nconst Card = React.lazy(()=> import('./Card'))\r\n\r\nconst Home=()=>{\r\n    const {user, token}=useState([])\r\n    const [imagesByLimit,setImagesByLimit]=useState([])\r\n    const [imagesByDate,setImagesByDate]=useState([])\r\n    const [error,setError]=useState(false)\r\n    const { isOpen,setIsOpen } = useState(false)\r\n\r\n    const [isFetching, setIsFetching] = useState(false);\r\n    const[page, setPage]=useState(30);\r\n\r\n    useEffect(()=>{\r\n        fetchData();\r\n        window.addEventListener('scroll', handleScroll);},[]);\r\n    \r\n\r\n    const handleScroll = () =>{\r\n        if(Math.ceil(window.innerHeight + document.documentElement.scrollTop) !== document.documentElement.offsetHeight\r\n        || isFetching) \r\n            return;\r\n        setIsFetching(true)\r\n    }\r\n\r\n\r\n    const loadImagesByDate=()=>{\r\n        getImages('createdAt').then(data=>{\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setImagesByLimit(data)\r\n            }\r\n        })\r\n      }\r\n\r\n      const fetchData =()=>{\r\n          \r\n            setPage(page+30);\r\n            loadImagesByLimit(page)\r\n          //  const data= await result.json()\r\n           \r\n         \r\n      }\r\n      useEffect(()=>{\r\n          if(!isFetching)return;\r\n          fetchMoreListItems();\r\n      }, [isFetching])\r\n\r\n      const fetchMoreListItems=()=>{\r\n          fetchData();\r\n          setIsFetching(false)\r\n      }\r\n      const loadImagesByLimit=(limit)=>{\r\n        getImages('createdAt',limit).then(data=>{\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{\r\n                setImagesByLimit(data)\r\n            }\r\n        })\r\n      }\r\n\r\n    //   useEffect(()=>{\r\n    //     loadImagesByDate()\r\n    //     loadImagesByLimit()\r\n    // },[])\r\n\r\n\r\n    \r\n        \r\n     \r\n\r\n    return( //fvfvfvfvfv\r\n    <Layout title=\"Home Page\" description=\"Node React Photo App\" className=\"container-fluid\">\r\n        {/* <button class=\"button button2\"> <Link to='/upload'><font color=\"white\"> Upload</font> </Link> </button> */}\r\n        \r\n   {/* <div>\r\n\r\n        {imagesByLimit.map((image,i)=>(\r\n              \r\n        <a class=\"example-image-link mr-4\" href={`${API}/image/photo/${image._id}`}  \r\n        data-lightbox=\"roadtrip\" >\r\n            <img class=\"example-image\" src={`${API}/image/photo/${image._id}`}  alt=\"\"/></a>\r\n        ))}\r\n        </div>  */}\r\n\r\n        \r\n        <div className=\"row\">\r\n        {imagesByLimit.map((item) =>(\r\n            <div className=\"column mr-4 ml-2\">\r\n             <Suspense fallback={<img src=\"%PUBLIC_URL%/favicon.ico\" alt='Avatar'style={{width:'50%'}}/>}>\r\n            <Card image={item}/>\r\n            </Suspense>\r\n            </div>\r\n        ))}\r\n        {isFetching && <h1>Fetching for more list items</h1>}\r\n      </div>  \r\n       \r\n</Layout>\r\n \r\n    )\r\n\r\n        }\r\n        \r\n\r\nexport default Home","import React,{Component} from 'react'\r\nimport {Route,Redirect} from 'react-router-dom'\r\nimport {isAuthenticated} from './index'\r\n\r\nconst PrivateRoute=({component:Component,...rest})=>(\r\n<Route {...rest} render={props=> isAuthenticated()?(\r\n    <Component {...props}/>\r\n):(\r\n    <Redirect \r\n    to={{\r\n        pathname:'/signin',\r\n        state:{from : props.location}\r\n    }}\r\n    />\r\n)} />\r\n)\r\n\r\nexport default PrivateRoute","import React from 'react'\r\nimport Layout from '../core/Layout'\r\nimport {isAuthenticated} from '../auth'\r\nimport{Link} from 'react-router-dom'\r\n\r\nconst Dashboard=()=>{\r\n    const {user:{_id,name,email}}=isAuthenticated()\r\n\r\n    const userLinks=()=>{\r\n        return(\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n             <li className=\"list-group-item\">\r\n                 <Link className=\"nav-link\" to='/upload'>Upload Photo</Link>\r\n             </li>\r\n             <li className=\"list-group-item\">\r\n                 <Link className=\"nav-link\" to={`/profile/${_id}`}>Update Profile</Link>\r\n             </li>\r\n             \r\n           </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const userInfo=()=>{\r\n       return(\r\n        <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">User Information</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">{name}</li>\r\n          <li className=\"list-group-item\">{email}</li>\r\n        </ul>\r\n      </div>\r\n       )\r\n    }\r\n\r\n\r\n    return (\r\n        <Layout \r\n        title=\"Dashboard\" \r\n        description={`G'day ${name}!`}\r\n        className=\"container-fluid\"\r\n        >\r\n         <div className=\"row\">\r\n             <div className=\"col-3\">\r\n                    {userLinks()}\r\n\r\n             </div>\r\n             <div className=\"col-9\">\r\n                {userInfo()}\r\n             </div>\r\n         </div>\r\n         \r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import React,{useEffect,useState} from 'react'\r\nimport Layout from '../core/Layout'\r\nimport {isAuthenticated} from '../auth'\r\nimport{Link} from 'react-router-dom'\r\nimport {addPic} from '../auth/index'\r\nimport Dropzone from \"react-dropzone\";\r\nimport \"../styles.css\"\r\n\r\nconst AddPhoto=()=>{\r\n    const [values, setValues] = useState({\r\n        title: '',\r\n        description: '',\r\n        photo: '',\r\n        tags:'',\r\n        uploadedBy:'',\r\n        loading: false,\r\n        error: '',\r\n        createdImage: '',\r\n        //redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n    const {\r\n        title,\r\n        description,\r\n        photo,\r\n        tags,\r\n        uploadedBy,\r\n        loading,\r\n        error,\r\n        createdImage,\r\n        //redirectToProfile: false,\r\n        formData\r\n    }=values;\r\n\r\n\r\n\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    useEffect(() => {  // this is used to grab the details from the browser\r\n        setValues({...values,formData:new FormData()})\r\n    },[] )\r\n\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        addPic(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    title: '',\r\n                    description: '',\r\n                    photo: '',\r\n                    tags: '',\r\n                    loading: false,\r\n                    createdImage: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n    \r\n      \r\n\r\n    const newPostForm = () => (\r\n        \r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title</label>\r\n                <input onChange={handleChange('title')} type=\"text\" className=\"form-control\" value={title} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Tags</label>\r\n                <input onChange={handleChange('tags')} type=\"text\" className=\"form-control\" value={tags} />\r\n            </div>\r\n            {/* <div className=\"form-group\">\r\n                <label className=\"text-muted\">Uploaded By</label>\r\n                <input type=\"hidden\" className=\"form-control\" value= {user._id} />\r\n            </div> */}\r\n\r\n           \r\n\r\n            <button className=\"btn btn-outline-primary\">Add Image</button>\r\n        </form>\r\n    );\r\n\r\n\r\n   \r\n\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdImage ? '' : 'none' }}>\r\n            <h2>{`${createdImage}`} is added!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Layout title=\"Add Images\" description={`G'day ${user.name}, ready to add images?`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n    \r\n\r\nexport default AddPhoto;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { read, update, updateUser } from './apiUser';\r\n\r\nconst Profile = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: false,\r\n        success: false\r\n    });\r\n\r\n    const { token } = isAuthenticated();\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const init = userId => {\r\n        // console.log(userId);\r\n        read(userId, token).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: true });\r\n            } else {\r\n                setValues({ ...values, name: data.name, email: data.email });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId);\r\n    }, []);\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, error: false, [name]: e.target.value });\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        update(match.params.userId, token, { name, email, password }).then(data => {\r\n            if (data.error) {\r\n                // console.log(data.error);\r\n                alert(data.error);\r\n            } else {\r\n                updateUser(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        name: data.name,\r\n                        email: data.email,\r\n                        success: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const redirectUser = success => {\r\n        if (success) {\r\n            return <Redirect to=\"/user/dashboard\" />;\r\n        }\r\n    };\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password} />\r\n            </div>\r\n\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout title=\"Profile\" description=\"Update your profile\" className=\"container-fluid\">\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Profile;","import {API} from '../config'\r\n\r\nexport const read =(userId,token)=> {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization:`Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const update =(userId,token,user)=> {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization:`Bearer ${token}`\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateUser=(user,next)=>{\r\nif(typeof window!=='undefined'){\r\n    if(localStorage.getItem('jwt')){\r\n        let auth=JSON.parse(localStorage.getItem('jwt'))\r\n        auth.user=user\r\n        localStorage.setItem('jwt',JSON.stringify(auth))\r\n        next();\r\n    }\r\n}\r\n}","import React from 'react'\r\nimport{BrowserRouter,Switch,Route} from 'react-router-dom'//this will wrap rest of the routes used,switch-switch case\r\nimport Signup from './user/Signup'\r\nimport Signin from './user/Signin'\r\nimport Home from './core/Home'\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport Dashboard from './user/UserDashboard'\r\nimport AddPhoto from './user/AddPhoto'\r\nimport Profile from './user/Profile'\r\n\r\n\r\n\r\nconst Routes=()=>{\r\n    return (\r\n    <BrowserRouter>\r\n    \r\n        <Switch>\r\n            <Route path='/signin' exact component={Signin} />\r\n            <Route path ='/signup' exact component={Signup} />\r\n            <Route path ='/' exact component={Home} />\r\n            <PrivateRoute \r\n        path=\"/user/dashboard\" \r\n        exact component={Dashboard} \r\n        />\r\n        <Route \r\n        path='/upload'\r\n        exact component={AddPhoto} \r\n        />\r\n         <Route \r\n        path='/profile/:userId'\r\n        exact component={Profile} \r\n        />\r\n            \r\n        </Switch>\r\n    </BrowserRouter>)\r\n    }\r\n    \r\n    export default Routes","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\n\r\nReactDOM.render(\r\n    <Routes/>,\r\n  document.getElementById('root')\r\n);","export const API=process.env.REACT_APP_API_URL"],"sourceRoot":""}