{"ast":null,"code":"import{API}from\"../config\";export var signup=function signup(user){return fetch(\"\".concat(API,\"/signup\"),{method:\"POST\",headers:{Accept:'application/json',\"Content-Type\":'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var signin=function signin(user){return fetch(\"\".concat(API,\"/signin\"),{method:\"POST\",headers:{Accept:'application/json',\"Content-Type\":'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var aunthenticate=function aunthenticate(data,next){if(typeof window!=='undefined'){localStorage.setItem('jwt',JSON.stringify(data));next();}};export var signout=function signout(next){if(typeof window!=='undefined'){localStorage.removeItem('jwt');next();return fetch(\"\".concat(API,\"/signout\"),{method:'GET'}).then(function(response){console.log('signout',response);}).catch(function(err){return console.log(err);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window=='undefined'){return false;}if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else{return false;}};export var addPic=function addPic(userId,token,image){return fetch(\"\".concat(API,\"/image/upload/\").concat(userId),{method:'POST',headers:{Accept:'application/json',Authorization:\"Bearer \".concat(token)},body:image}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["C:/Users/hp/Desktop/photo-app-demo/photo-app-front/src/auth/index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","aunthenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","addPic","userId","token","image","Authorization"],"mappings":"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","sourcesContent":["import {API} from \"../config\"\r\n\r\nexport const signup=user=>{\r\n    \r\n    return fetch(`${API}/signup`,{\r\n        method:\"POST\",\r\n        headers:{\r\n             Accept:'application/json',\r\n             \"Content-Type\":'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\nexport const signin=user=>{\r\n    \r\n    return fetch(`${API}/signin`,{\r\n        method:\"POST\",\r\n        headers:{\r\n             Accept:'application/json',\r\n             \"Content-Type\":'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const aunthenticate=(data,next)=>{\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.setItem('jwt',JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const signout=(next)=>{\r\n    if(typeof window !== 'undefined'){\r\n        localStorage.removeItem('jwt')\r\n        next()\r\n        return fetch(`${API}/signout`,{\r\n            method:'GET',\r\n        })\r\n        .then(response=>{\r\n            console.log('signout',response)\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n}\r\n\r\nexport const isAuthenticated=()=>{\r\n    if(typeof window =='undefined'){\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    }else{\r\n        return false\r\n    }\r\n\r\n}\r\n\r\nexport const addPic=(userId,token,image)=>{\r\n    return fetch(`${API}/image/upload/${userId}`,{\r\n        method:'POST',\r\n        headers:{\r\n            Accept:'application/json',\r\n            Authorization:`Bearer ${token}`\r\n        },\r\n        body:image\r\n    })\r\n    .then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}